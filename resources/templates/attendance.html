<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>每日运势</title>
    <style>
            /* Reset and base styles */
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Alimama ShuHeiTi', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                background-color: #FFFFFF;
                overflow-x: hidden;
            }

            .container {
                position: relative;
                width: 600px;
                height: 800px;
                margin: 0 auto;
                background-color: #FFFFFF;
            }

            /* Background Image */
            .background-image {
                position: absolute;
                top: 0;
                left: 0;
                width: 600px;
                height: 309px;
                background-image: url('{{backgroundUrl}}');
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
                z-index: 0;
            }

            /* Greeting Card */
            .greeting-card {
                position: absolute;
                top: 180px;
                left: 25px;
                width: 550px;
                height: 160px;
                background: rgba(217, 217, 217, 0.15);
                backdrop-filter: blur(2.5px);
                border-radius: 20px;
                padding: 20px;
                display: flex;
                align-items: center;
                gap: 15px;
                z-index: 2;
            }

            .avatar-container {
                width: 120px;
                height: 120px;
                border-radius: 16px;
                overflow: hidden;
                flex-shrink: 0;
            }

            .avatar {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            .greeting-text {
                flex: 1;
                display: flex;
                flex-direction: column;
                justify-content: center;
                gap: 8px;
            }

            .greeting {
                font-size: 32px;
                font-weight: 700;
                line-height: 1.3;
                color: #000000;
                margin-bottom: 0;
            }

            .username {
                font-size: 24px;
                font-weight: 700;
                line-height: 1.3;
                color: #000000;
                margin-bottom: 0;
            }

            .date {
                font-size: 18px;
                font-weight: 600;
                line-height: 1.3;
                color: #000000;
                margin-bottom: 0;
                text-align: right;
            }

            /* Quote Section */
            .quote-section {
                position: absolute;
                top: 360px;
                left: 25px;
                width: 550px;
                z-index: 2;
            }

            .quote {
                font-size: 18px;
                font-weight: 700;
                line-height: 1.3;
                color: #000000;
                margin-bottom: 5px;
                text-align: center;
            }

            .quote-source {
                font-size: 18px;
                font-weight: 700;
                line-height: 1.3;
                color: #666666;
                text-align: right;
            }

            /* Progress Section */
            .progress-section {
                position: absolute;
                top: 435px;
                left: 25px;
                width: 550px;
                z-index: 2;
            }

            .level-info {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 10px;
            }

            .level {
                font-size: 35px;
                font-weight: 700;
                line-height: 1.2;
                color: #000000;
            }

            .progress-text {
                font-size: 25px;
                font-weight: 700;
                line-height: 1.2;
                color: #929292;
            }

            .progress-bar {
                width: 550px;
                height: 18px;
                background-color: #D8D8D8;
                border-radius: 15px;
                overflow: hidden;
            }

            .progress-fill {
                height: 18px;
                background-color: #66C990;
                border-radius: 15px 0 0 15px;
            }

            /* Activities Section */
            .activities-section {
                position: absolute;
                top: 635px;
                left: 25px;
                width: 550px;
                z-index: 2;
            }

            .activity-group {
                margin-bottom: 20px;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .activity-group.bad {
                margin-bottom: 0;
            }

            .activity-indicator {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                flex-shrink: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 25px;
                font-weight: 700;
                color: #000000;
                line-height: 1;
            }

            .activity-indicator.good {
                background-color: #E77E74;
            }

            .activity-indicator.bad {
                background-color: #525252;
            }

            .activity-title {
                display: none;
            }

            .activity-list {
                display: flex;
                flex-direction: column;
                gap: 5px;
            }

            .activity-item {
                font-size: 25px;
                font-weight: 700;
                line-height: 1.2;
                color: #000000;
                margin-bottom: 5px;
            }

            .activity-item:last-child {
                margin-bottom: 0;
            }

            /* Coin Section */
            .coin-section {
                position: absolute;
                top: 515px;
                left: 25px;
                width: 550px;
                height: 110px;
                background-color: #E6F5EF;
                border-radius: 25px;
                padding: 25px;
                display: flex;
                align-items: center;
                z-index: 2;
            }

            .clover-icon {
                width: 55px;
                height: 55px;
                flex-shrink: 0;
            }

            .coin-info {
                flex: 1;
                display: flex;
                flex-direction: column;
                margin-left: 15px;
            }

            .coin-amount {
                font-size: 60px;
                font-weight: 700;
                line-height: 1.2;
                color: #000000;
            }

            .coin-description {
                font-size: 25px;
                font-weight: 700;
                line-height: 1.2;
                color: #000000;
            }

            .exp-info {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                gap: 2px;
                position: relative;
            }

            .exp-info::before {
                content: '';
                position: absolute;
                left: -15px;
                top: 50%;
                transform: translateY(-50%);
                width: 5px;
                height: 70px;
                background-color: #AEB2B0;
                border-radius: 2.5px;
            }

            .exp-text {
                font-size: 25px;
                font-weight: 700;
                line-height: 1.2;
                color: #000000;
            }
    </style>
</head>
<body>
    <div class="container">
        <!-- Background Image -->
        <div class="background-image"></div>
        
        <!-- Greeting Card -->
        <div class="greeting-card">
            <div class="avatar-container">
                <img src="{{avatarUrl}}" alt="Avatar" class="avatar">
            </div>
            <div class="greeting-text">
                <div class="greeting">{{greeting}}</div>
                <div class="username">{{user_name}}</div>
                <div class="date">{{date}}</div>
            </div>
        </div>
        
        <!-- Quote Section -->
        <div class="quote-section">
            <div class="quote">「{{hitokoto}}」</div>
            <div class="quote-source">-「{{hitokotoAuthor}}」</div>
        </div>
        
        <!-- Progress Section -->
        <div class="progress-section">
            <div class="level-info">
                <div class="level">Lv.{{level}} {{levelName}}</div>
                <div class="progress-text">{{exp}} / {{nextExp}}</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{progress}}"></div>
            </div>
        </div>
        
        <!-- Daily Activities Section -->
        <div class="activities-section">
            <div class="activity-group good">
                <div class="activity-indicator good">宜</div>
                <div class="activity-list">
                    <div class="activity-item">{{almanacGood}}</div>
                    <div class="activity-item">今天适合做这件事</div>
                </div>
            </div>
            
            <div class="activity-group bad">
                <div class="activity-indicator bad">忌</div>
                <div class="activity-list">
                    <div class="activity-item">{{almanacBad}}</div>
                    <div class="activity-item">今天最好不要做这件事</div>
                </div>
            </div>
        </div>
        
        <!-- Coin Section -->
        <div class="coin-section">
            <svg class="clover-icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                <path d="M512 477.013333c140.8-128 213.333333-193.706667 213.333333-276.906666A116.181333 116.181333 0 0 0 608 85.333333 128.341333 128.341333 0 0 0 512 128a129.834667 129.834667 0 0 0-98.56-42.666667A116.181333 116.181333 0 0 0 298.666667 202.666667c0 80.64 72.533333 146.346667 213.333333 274.346666m-34.986667 34.986667c-128-140.8-193.706667-213.333333-276.906666-213.333333A116.181333 116.181333 0 0 0 85.333333 416 128.341333 128.341333 0 0 0 128 512a129.834667 129.834667 0 0 0-42.666667 98.56A116.181333 116.181333 0 0 0 202.666667 725.333333c80.64 0 146.346667-72.533333 274.346666-213.333333m70.4 0c127.573333 140.8 193.28 213.333333 276.48 213.333333A116.181333 116.181333 0 0 0 938.666667 608 128.341333 128.341333 0 0 0 896 512a129.834667 129.834667 0 0 0 42.666667-98.56A116.181333 116.181333 0 0 0 821.333333 298.666667c-80.64 0-146.346667 72.533333-273.92 213.333333m-35.413333 34.986667c-140.8 128-213.333333 193.706667-213.333333 276.906666A116.181333 116.181333 0 0 0 416 938.666667 128.341333 128.341333 0 0 0 512 896a129.834667 129.834667 0 0 0 98.56 42.666667A116.181333 116.181333 0 0 0 725.333333 821.333333c0-80.64-72.533333-146.346667-213.333333-274.346666z" fill="#66C990"/>
            </svg>
            <div class="coin-info">
                <div class="coin-amount">{{fortune}}</div>
            </div>
            <div class="exp-info">
                <div class="coin-description">{{fortuneDesc}}</div>
                <div class="exp-text">Exp+ {{expGain}}</div>
            </div>
        </div>
    </div>
</body>
</html>
